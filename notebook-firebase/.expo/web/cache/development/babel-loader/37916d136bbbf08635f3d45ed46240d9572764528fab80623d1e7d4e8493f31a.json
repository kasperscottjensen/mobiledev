{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Pressable from \"react-native-web/dist/exports/Pressable\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport { useNavigation } from '@react-navigation/native';\nimport { FlashList } from '@shopify/flash-list';\nimport firebase from \"../config.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar Home = function Home() {\n  var _useState = useState(),\n    _useState2 = _slicedToArray(_useState, 2),\n    notes = _useState2[0],\n    setNotes = _useState2[1];\n  var _useState3 = useState(),\n    _useState4 = _slicedToArray(_useState3, 2),\n    link = _useState4[0],\n    setLink = _useState4[1];\n  var nav = useNavigation();\n  useEffect(function () {\n    firebase.firestore().collection('notes').onSnapshot(function (querySnapshot) {\n      var newNotes = [];\n      querySnapshot.forEach(function (doc) {\n        firebase.storage().ref(doc.data().filename).getDownloadURL().then(function (url) {\n          setLink(url);\n        });\n        var _doc$data = doc.data(),\n          filename = _doc$data.filename,\n          body = _doc$data.body,\n          title = _doc$data.title;\n        newNotes.push({\n          link: link,\n          filename: filename,\n          body: body,\n          title: title,\n          id: doc.id\n        });\n      });\n      setNotes(newNotes);\n    });\n  }, []);\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(FlashList, {\n      data: notes,\n      numColumns: 1,\n      estimatedItemSize: 100,\n      renderItem: function renderItem(_ref) {\n        var item = _ref.item;\n        return _jsx(Pressable, {\n          onPress: function onPress() {\n            return nav.navigate('details', {\n              item: item\n            });\n          },\n          children: _jsxs(View, {\n            style: styles.noteView,\n            children: [_jsx(Text, {\n              style: styles.noteTitle,\n              children: item.title\n            }), _jsx(Image, {\n              source: {\n                uri: item.link\n              },\n              style: {\n                width: 75,\n                height: 75\n              }\n            })]\n          })\n        });\n      }\n    }), _jsx(TouchableOpacity, {\n      style: styles.addButton,\n      onPress: function onPress() {\n        return nav.navigate('addNote');\n      },\n      children: _jsx(Text, {\n        style: styles.addButtonText,\n        children: \"ADD\"\n      })\n    })]\n  });\n};\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#ffecb8',\n    paddingTop: 10\n  },\n  noteView: {\n    flex: 1,\n    flexDirection: 'row',\n    backgroundColor: '#ffffff',\n    marginTop: 10,\n    marginHorizontal: 10,\n    marginBottom: 10,\n    padding: 10,\n    borderRadius: 10,\n    shadowColor: '#000000',\n    shadowOffset: {\n      width: 0,\n      height: 1\n    },\n    shadowOpacity: 0.8,\n    shadowRadius: 1,\n    elevation: 5,\n    alignItems: 'center',\n    justifyContent: 'space-between'\n  },\n  noteTitle: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    paddingLeft: 5\n  },\n  addButton: {\n    backgroundColor: '#ff8400',\n    marginTop: 20,\n    height: 50,\n    alignItems: 'center',\n    justifyContent: 'center',\n    shadowColor: '#000000'\n  },\n  addButtonText: {\n    color: '#ffffff',\n    fontSize: 18,\n    fontWeight: 'bold'\n  }\n});\nexport default Home;","map":{"version":3,"names":["React","useState","useEffect","useNavigation","FlashList","firebase","Home","notes","setNotes","link","setLink","nav","firestore","collection","onSnapshot","querySnapshot","newNotes","forEach","doc","storage","ref","data","filename","getDownloadURL","then","url","body","title","push","id","styles","container","item","navigate","noteView","noteTitle","uri","width","height","addButton","addButtonText","StyleSheet","create","flex","backgroundColor","paddingTop","flexDirection","marginTop","marginHorizontal","marginBottom","padding","borderRadius","shadowColor","shadowOffset","shadowOpacity","shadowRadius","elevation","alignItems","justifyContent","fontSize","fontWeight","paddingLeft","color"],"sources":["/home/kasper/Documents/fourthsemester/mobiledev/notebook-firebase/components/Home.js"],"sourcesContent":["// dependencies\nimport React, {useState, useEffect} from 'react';\nimport {StyleSheet, View, Text, TouchableOpacity, Pressable, Image} from 'react-native';\nimport {useNavigation} from '@react-navigation/native';\nimport {FlashList} from '@shopify/flash-list';\n\n// components\nimport firebase from '../config.js';\n\n// component\nconst Home = () => {\n    \n    const [notes, setNotes] = useState();\n    const [link, setLink] = useState();\n    const nav = useNavigation();\n\n    useEffect(() => {\n        firebase.firestore()\n            .collection('notes')\n            .onSnapshot((querySnapshot) => {\n                const newNotes = [];\n                querySnapshot.forEach(doc => {\n                    firebase.storage().ref(doc.data().filename).getDownloadURL().then(url => {\n                        setLink(url);\n                    });\n                    const {filename, body, title} = doc.data();\n                    newNotes.push({link, filename, body, title, id: doc.id});\n                });\n                setNotes(newNotes);\n            });\n    }, []);\n\n    return (\n        <View style={styles.container}>\n            <FlashList\n                data={notes}\n                numColumns={1}\n                estimatedItemSize={100}\n                renderItem={({item}) => (\n                    <Pressable onPress={() => nav.navigate('details', {item})}>\n                        <View style={styles.noteView}>\n                            <Text style={styles.noteTitle}>{item.title}</Text>\n                            <Image source={{uri: item.link}} style={{width: 75, height: 75}}/>\n                        </View>\n                    </Pressable>\n                )}\n            />\n            <TouchableOpacity style={styles.addButton} onPress={() => nav.navigate('addNote')}>\n                <Text style={styles.addButtonText}>ADD</Text>\n            </TouchableOpacity>\n        </View>\n    )\n\n};\n\n// styling\nconst styles = StyleSheet.create({\n    container: {\n        flex: 1,\n        backgroundColor: '#ffecb8',\n        paddingTop: 10\n    },\n    noteView: {\n        flex: 1,\n        flexDirection: 'row',\n        backgroundColor: '#ffffff',\n        marginTop: 10,\n        marginHorizontal: 10,\n        marginBottom: 10,\n        padding: 10,\n        borderRadius: 10,\n        shadowColor: '#000000',\n        shadowOffset: {width: 0, height: 1},\n        shadowOpacity: 0.8,\n        shadowRadius: 1,\n        elevation: 5,\n        alignItems: 'center',\n        justifyContent: 'space-between'\n    },\n    noteTitle: {\n        fontSize: 20,\n        fontWeight: 'bold',\n        paddingLeft: 5,\n    },\n    addButton: {\n        backgroundColor: '#ff8400',\n        marginTop: 20,\n        height: 50,\n        alignItems: 'center',\n        justifyContent: 'center',\n        shadowColor: '#000000'\n    },\n    addButtonText: {\n        color: '#ffffff',\n        fontSize: 18,\n        fontWeight: 'bold'\n    }\n});\n\n// export\nexport default Home;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}